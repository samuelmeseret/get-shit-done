---
phase: 09-integrate-verify-work
plan: 01
type: execute
---

<objective>
Create GSD-compliant foundation for verify-work: workflow, template, and refactored command.

Purpose: Align community-contributed verify-work command with GSD patterns (workflow delegation, templates, terse steps).
Output: Refactored verify-work.md command, new verify-work.md workflow, new uat-issues.md template.
</objective>

<execution_context>
@~/.codex/get-shit-done/workflows/execute-phase.md
@~/.codex/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Current verify-work.md (to refactor):**
@commands/gsd/verify-work.md

**Pattern references (existing GSD commands to match):**
@commands/gsd/discuss-phase.md
@commands/gsd/consider-issues.md

**Pattern references (existing GSD workflows to match):**
@get-shit-done/workflows/discuss-phase.md

**Pattern references (existing GSD templates to match):**
@get-shit-done/templates/context.md
@get-shit-done/templates/issues.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create verify-work workflow</name>
  <files>get-shit-done/workflows/verify-work.md</files>
  <action>
Create workflow following GSD patterns from discuss-phase.md:
- Use `<purpose>` tag for overview
- Use `<process>` with `<step name="X">` tags (terse names: identify, extract, generate, guide, collect, log, summarize, offer)
- Reference template for issues format: `@~/.codex/get-shit-done/templates/uat-issues.md`
- Log issues to phase-scoped file: `.planning/phases/XX-name/{phase}-{plan}-ISSUES.md` (NOT global ISSUES.md)
- Use prompt user for all user interaction (matching discuss-phase.md pattern)
- Include `<success_criteria>` at end

Key logic to preserve from current verify-work.md:
- Find SUMMARY.md based on args or most recent
- Extract user-observable deliverables
- Generate test checklist
- Guide through pass/fail/partial/skip for each test
- Collect issues with severity
- Present summary with verdict
- Offer next actions based on results
  </action>
  <verify>File exists at get-shit-done/workflows/verify-work.md with proper XML structure</verify>
  <done>Workflow file created with GSD-compliant structure, all logic preserved</done>
</task>

<task type="auto">
  <name>Task 2: Create UAT issues template</name>
  <files>get-shit-done/templates/uat-issues.md</files>
  <action>
Create template for phase-scoped UAT issues following patterns from context.md and issues.md:
- Template header explaining purpose and location
- File template section with markdown structure
- Location: `.planning/phases/XX-name/{phase}-{plan}-ISSUES.md`
- Fields: UAT-NNN prefix, discovered date, phase/plan tested, severity, description, expected, actual
- Include good_examples section
- Include guidelines section

Key difference from global issues.md:
- Scoped to specific plan that was tested
- Used as input for /gsd:plan-fix command
- No "Closed Enhancements" section (issues are fixed via FIX.md plan, then file is historical record)
  </action>
  <verify>File exists at get-shit-done/templates/uat-issues.md with proper template structure</verify>
  <done>Template created with phase-scoped issues format</done>
</task>

<task type="auto">
  <name>Task 3: Refactor verify-work command</name>
  <files>commands/gsd/verify-work.md</files>
  <action>
Refactor to match GSD command patterns from discuss-phase.md:
- Add `name: gsd:verify-work` to frontmatter (already present)
- Update execution_context to reference workflow: `@~/.codex/get-shit-done/workflows/verify-work.md`
- Add template reference: `@~/.codex/get-shit-done/templates/uat-issues.md`
- Simplify process section to delegate to workflow (like discuss-phase.md does)
- Remove inline step details (moved to workflow)
- Keep anti_patterns and success_criteria sections
- Update success_criteria to reference phase-scoped ISSUES.md

Structure should match discuss-phase.md:
```
<process>
1. Validate arguments (phase/plan number)
2. Follow verify-work.md workflow
3. Offer next steps (plan-fix if issues found)
</process>
```
  </action>
  <verify>Command file matches GSD patterns, references workflow and template</verify>
  <done>Command refactored to delegate to workflow, follows GSD conventions</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `get-shit-done/workflows/verify-work.md` exists with proper XML structure
- [ ] `get-shit-done/templates/uat-issues.md` exists with template format
- [ ] `commands/gsd/verify-work.md` delegates to workflow
- [ ] No inline logic remains in command (all in workflow)
- [ ] Issues logged to phase-scoped file, not global ISSUES.md
</verification>

<success_criteria>
- All 3 files created/updated
- Workflow follows GSD patterns (terse steps, XML structure)
- Template follows GSD patterns (examples, guidelines)
- Command delegates to workflow (no inline logic)
- Phase-scoped issues file location used
</success_criteria>

<output>
After completion, create `.planning/phases/09-integrate-verify-work/09-01-SUMMARY.md`
</output>
